{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport Validation from \"./utils/Validation\";\nimport { environment } from \"../../environment/environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction SignupComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction SignupComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage, \" \");\n  }\n}\nfunction SignupComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"Email obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"Email invalide\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"N\\u00B0SIREN obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"Mot de passe obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"6 caract\\u00E8res minimum\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"40 caract\\u00E8res maximum\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"Confirmation de mot de passe obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"Les mots de passe ne sont pas identiques\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class SignupComponent {\n  constructor(fb, authSerivce, router) {\n    this.fb = fb;\n    this.authSerivce = authSerivce;\n    this.router = router;\n    this.formSubmitted = false;\n    this.url = `${environment.urlApi}`;\n  }\n  ngOnInit() {\n    this.signUpForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      noSiren: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(40)]],\n      confirmPassword: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(40)]]\n    }, {\n      validators: [Validation.match('password', 'confirmPassword')]\n    });\n  }\n  onSubmit() {\n    this.formSubmitted = true;\n    if (this.signUpForm.invalid) {\n      return;\n    }\n    const {\n      email,\n      noSiren,\n      password\n    } = this.signUpForm.value;\n    this.authSerivce.register(email, password, noSiren).subscribe(response => {\n      this.errorMessage = '';\n      this.successMessage = 'Registration successful';\n      setTimeout(() => {\n        this.router.navigate([`home`]);\n        //change to login page when created\n      }, 2000);\n    }, error => {\n      this.errorMessage = error.error.message;\n      console.error('Registration error:', error);\n    });\n  }\n  static #_ = this.ɵfac = function SignupComponent_Factory(t) {\n    return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupComponent,\n    selectors: [[\"app-signup\"]],\n    decls: 38,\n    vars: 11,\n    consts: [[1, \"main\"], [1, \"container\"], [1, \"title\"], [1, \"content\"], [\"class\", \"successMessage\", 4, \"ngIf\"], [\"class\", \"errorMessage\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"user-details\"], [1, \"input-box\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Entrez votre adresse e-mail\", \"required\", \"\"], [\"class\", \"error-form\", 4, \"ngIf\"], [\"for\", \"noSiren\"], [\"type\", \"text\", \"id\", \"noSiren\", \"formControlName\", \"noSiren\", \"placeholder\", \"Entrez votre n\\u00B0 SIREN\", \"required\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Entrez votre mot de passe\", \"required\", \"\"], [\"for\", \"confirmPassword\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Confirmez votre mot de passe\", \"required\", \"\"], [1, \"button\"], [\"type\", \"submit\", 1, \"registerButton\"], [1, \"successMessage\"], [1, \"errorMessage\"], [1, \"error-form\"]],\n    template: function SignupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3, \"Inscription\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Veuillez remplir les informations suivantes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵtemplate(7, SignupComponent_div_7_Template, 2, 1, \"div\", 4);\n        i0.ɵɵtemplate(8, SignupComponent_div_8_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementStart(9, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"label\", 9);\n        i0.ɵɵtext(13, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 10);\n        i0.ɵɵtemplate(15, SignupComponent_div_15_Template, 2, 0, \"div\", 11);\n        i0.ɵɵtemplate(16, SignupComponent_div_16_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 8)(18, \"label\", 12);\n        i0.ɵɵtext(19, \"N\\u00B0SIREN\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 13);\n        i0.ɵɵtemplate(21, SignupComponent_div_21_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 8)(23, \"label\", 14);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 15);\n        i0.ɵɵtemplate(26, SignupComponent_div_26_Template, 2, 0, \"div\", 11);\n        i0.ɵɵtemplate(27, SignupComponent_div_27_Template, 2, 0, \"div\", 11);\n        i0.ɵɵtemplate(28, SignupComponent_div_28_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 8)(30, \"label\", 16);\n        i0.ɵɵtext(31, \"Confirmez votre mot de passe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(32, \"input\", 17);\n        i0.ɵɵtemplate(33, SignupComponent_div_33_Template, 2, 0, \"div\", 11);\n        i0.ɵɵtemplate(34, SignupComponent_div_34_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 18)(36, \"button\", 19);\n        i0.ɵɵtext(37, \"S'inscrire\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage !== \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.signUpForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"email\"].errors == null ? null : ctx.signUpForm.controls[\"email\"].errors[\"required\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"email\"].errors == null ? null : ctx.signUpForm.controls[\"email\"].errors[\"email\"]));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"noSiren\"].errors == null ? null : ctx.signUpForm.controls[\"noSiren\"].errors[\"required\"]));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"password\"].errors == null ? null : ctx.signUpForm.controls[\"password\"].errors[\"required\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"password\"].errors == null ? null : ctx.signUpForm.controls[\"password\"].errors[\"minlength\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"password\"].errors == null ? null : ctx.signUpForm.controls[\"password\"].errors[\"maxlength\"]));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"confirmPassword\"].errors == null ? null : ctx.signUpForm.controls[\"confirmPassword\"].errors[\"required\"]));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && (ctx.signUpForm.controls[\"confirmPassword\"].errors == null ? null : ctx.signUpForm.controls[\"confirmPassword\"].errors[\"matching\"]));\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".main[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  min-height: calc(100vh - 56px); \\r\\n  background: linear-gradient(rgba(211, 211, 211, 0.2), rgba(123, 104, 238, 0.2));\\r\\n  filter: saturate(60%);\\r\\n}\\r\\n\\r\\n.container[_ngcontent-%COMP%]{\\r\\n  max-width: 700px;\\r\\n  background-color: #fff;\\r\\n  padding: 25px 30px;\\r\\n  border-radius: 5px;\\r\\n  box-shadow: 0 5px 10px rgba(0,0,0,0.15);\\r\\n  overflow-y: auto; \\r\\n  margin: 10px; \\r\\n}\\r\\n\\r\\n.error-form[_ngcontent-%COMP%]{\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.errorMessage[_ngcontent-%COMP%]{\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.successMessage[_ngcontent-%COMP%]{\\r\\n  color: green;\\r\\n}\\r\\n\\r\\n.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{\\r\\n  font-size: 25px;\\r\\n  font-weight: 500;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  justify-content: space-between;\\r\\n  margin: 20px 0 12px 0;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{\\r\\n  margin-bottom: 15px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\r\\n  display: block;\\r\\n  font-weight: 500;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\r\\n\\r\\n  height: 45px;\\r\\n  width: 100%;\\r\\n  outline: none;\\r\\n  font-size: 16px;\\r\\n  border-radius: 5px;\\r\\n  padding-left: 15px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-bottom-width: 2px;\\r\\n  transition: all 0.3s ease;\\r\\n}\\r\\n.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{\\r\\n  border-color: #9b59b6;\\r\\n}\\r\\nform[_ngcontent-%COMP%]   .gender-details[_ngcontent-%COMP%]   .gender-title[_ngcontent-%COMP%]{\\r\\n  font-size: 20px;\\r\\n  font-weight: 500;\\r\\n}\\r\\nform[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  width: 80%;\\r\\n  margin: 14px 0 ;\\r\\n  justify-content: space-between;\\r\\n}\\r\\nform[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{\\r\\n  height: 45px;\\r\\n  margin: 35px 0\\r\\n}\\r\\nform[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  border-radius: 5px;\\r\\n  border: none;\\r\\n  color: #fff;\\r\\n  font-size: 18px;\\r\\n  font-weight: 500;\\r\\n  letter-spacing: 1px;\\r\\n  cursor: pointer;\\r\\n  transition: all 0.3s ease;\\r\\n  background: linear-gradient(135deg, #71b7e6, #9b59b6);\\r\\n}\\r\\nform[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{\\r\\n  \\r\\n  background: linear-gradient(-135deg, #71b7e6, #9b59b6);\\r\\n}\\r\\n@media(max-width: 584px){\\r\\n  .container[_ngcontent-%COMP%]{\\r\\n    max-width: 100%;\\r\\n  }\\r\\n  form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 15px;\\r\\n    width: 100%;\\r\\n  }\\r\\n  form[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n  }\\r\\n  .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{\\r\\n    max-height: 300px;\\r\\n    overflow-y: scroll;\\r\\n  }\\r\\n  .user-details[_ngcontent-%COMP%]::-webkit-scrollbar{\\r\\n    width: 5px;\\r\\n  }\\r\\n}\\r\\n@media(max-width: 459px){\\r\\n  .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{\\r\\n    flex-direction: column;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2lnbnVwL3NpZ251cC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsOEJBQThCLEVBQUUsMkJBQTJCO0VBQzNELCtFQUErRTtFQUMvRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsdUNBQXVDO0VBQ3ZDLGdCQUFnQixFQUFFLDJCQUEyQjtFQUM3QyxZQUFZLEVBQUUsdUNBQXVDO0FBQ3ZEOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLDhCQUE4QjtFQUM5QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7QUFDQTs7RUFFRSxZQUFZO0VBQ1osV0FBVztFQUNYLGFBQWE7RUFDYixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsd0JBQXdCO0VBQ3hCLHlCQUF5QjtBQUMzQjtBQUNBOztFQUVFLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLFVBQVU7RUFDVixlQUFlO0VBQ2YsOEJBQThCO0FBQ2hDO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxZQUFZO0VBQ1o7QUFDRjtBQUNBO0VBQ0UsWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLFdBQVc7RUFDWCxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLHFEQUFxRDtBQUN2RDtBQUNBO0VBQ0UsNEJBQTRCO0VBQzVCLHNEQUFzRDtBQUN4RDtBQUNBO0VBQ0U7SUFDRSxlQUFlO0VBQ2pCO0VBQ0E7SUFDRSxtQkFBbUI7SUFDbkIsV0FBVztFQUNiO0VBQ0E7SUFDRSxXQUFXO0VBQ2I7RUFDQTtJQUNFLGlCQUFpQjtJQUNqQixrQkFBa0I7RUFDcEI7RUFDQTtJQUNFLFVBQVU7RUFDWjtBQUNGO0FBQ0E7RUFDRTtJQUNFLHNCQUFzQjtFQUN4QjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW57XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIG1pbi1oZWlnaHQ6IGNhbGMoMTAwdmggLSA1NnB4KTsgLyogQWRqdXN0ZWQgdG8gbWluLWhlaWdodCAqL1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChyZ2JhKDIxMSwgMjExLCAyMTEsIDAuMiksIHJnYmEoMTIzLCAxMDQsIDIzOCwgMC4yKSk7XHJcbiAgZmlsdGVyOiBzYXR1cmF0ZSg2MCUpO1xyXG59XHJcblxyXG4uY29udGFpbmVye1xyXG4gIG1heC13aWR0aDogNzAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAyNXB4IDMwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJveC1zaGFkb3c6IDAgNXB4IDEwcHggcmdiYSgwLDAsMCwwLjE1KTtcclxuICBvdmVyZmxvdy15OiBhdXRvOyAvKiBBZGRlZCBvdmVyZmxvdyBjb250cm9sICovXHJcbiAgbWFyZ2luOiAxMHB4OyAvKiBFbnN1cmUgc29tZSBzcGFjZSBhcm91bmQgY29udGFpbmVyICovXHJcbn1cclxuXHJcbi5lcnJvci1mb3Jte1xyXG4gIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi5lcnJvck1lc3NhZ2V7XHJcbiAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuLnN1Y2Nlc3NNZXNzYWdle1xyXG4gIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLmNvbnRhaW5lciAudGl0bGV7XHJcbiAgZm9udC1zaXplOiAyNXB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uY29udGVudCBmb3JtIC51c2VyLWRldGFpbHN7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIG1hcmdpbjogMjBweCAwIDEycHggMDtcclxufVxyXG5cclxuZm9ybSAudXNlci1kZXRhaWxzIC5pbnB1dC1ib3h7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuZm9ybSAuaW5wdXQtYm94IGxhYmVse1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcbi51c2VyLWRldGFpbHMgLmlucHV0LWJveCBpbnB1dHtcclxuXHJcbiAgaGVpZ2h0OiA0NXB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItYm90dG9tLXdpZHRoOiAycHg7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxufVxyXG4udXNlci1kZXRhaWxzIC5pbnB1dC1ib3ggaW5wdXQ6Zm9jdXMsXHJcbi51c2VyLWRldGFpbHMgLmlucHV0LWJveCBpbnB1dDp2YWxpZHtcclxuICBib3JkZXItY29sb3I6ICM5YjU5YjY7XHJcbn1cclxuZm9ybSAuZ2VuZGVyLWRldGFpbHMgLmdlbmRlci10aXRsZXtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5mb3JtIC5jYXRlZ29yeXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHdpZHRoOiA4MCU7XHJcbiAgbWFyZ2luOiAxNHB4IDAgO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5mb3JtIC5jYXRlZ29yeSBsYWJlbHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG5mb3JtIC5idXR0b257XHJcbiAgaGVpZ2h0OiA0NXB4O1xyXG4gIG1hcmdpbjogMzVweCAwXHJcbn1cclxuZm9ybSAuYnV0dG9uIGJ1dHRvbntcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM3MWI3ZTYsICM5YjU5YjYpO1xyXG59XHJcbmZvcm0gLmJ1dHRvbiBidXR0b246aG92ZXJ7XHJcbiAgLyogdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTsgKi9cclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTEzNWRlZywgIzcxYjdlNiwgIzliNTliNik7XHJcbn1cclxuQG1lZGlhKG1heC13aWR0aDogNTg0cHgpe1xyXG4gIC5jb250YWluZXJ7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIGZvcm0gLnVzZXItZGV0YWlscyAuaW5wdXQtYm94e1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuICBmb3JtIC5jYXRlZ29yeXtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuICAuY29udGVudCBmb3JtIC51c2VyLWRldGFpbHN7XHJcbiAgICBtYXgtaGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICB9XHJcbiAgLnVzZXItZGV0YWlsczo6LXdlYmtpdC1zY3JvbGxiYXJ7XHJcbiAgICB3aWR0aDogNXB4O1xyXG4gIH1cclxufVxyXG5AbWVkaWEobWF4LXdpZHRoOiA0NTlweCl7XHJcbiAgLmNvbnRhaW5lciAuY29udGVudCAuY2F0ZWdvcnl7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","Validation","environment","i0","SignupComponent","constructor","fb","authSerivce","router","urlApi","ngOnInit","signUpForm","group","email","required","noSiren","password","minLength","maxLength","confirmPassword","validators","match","onSubmit","formSubmitted","invalid","value","register","subscribe","response","errorMessage","successMessage","setTimeout","navigate","error","message","console","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\lea-l\\OneDrive\\Bureau\\PF_INSA\\projet-isitr\\AventixApp\\src\\app\\signup\\signup.component.ts","C:\\Users\\lea-l\\OneDrive\\Bureau\\PF_INSA\\projet-isitr\\AventixApp\\src\\app\\signup\\signup.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport Validation from \"./utils/Validation\";\nimport {AuthService} from \"../auth.service\";\nimport {environment} from \"../../environment/environment\";\nimport {Router} from \"@angular/router\";\n\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit{\n   signUpForm!: FormGroup;\n  formSubmitted: boolean = false\n  successMessage!: string\n  errorMessage!: string\n  private url = `${environment.urlApi}`\n\n  constructor(private fb: FormBuilder,\n              private authSerivce: AuthService,\n              private router: Router){};\n\n  ngOnInit(): void {\n    this.signUpForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      noSiren: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(40)]],\n      confirmPassword: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(40)]]\n      },{\n        validators: [Validation.match('password','confirmPassword')]\n      });\n  }\n\n  onSubmit() {\n    this.formSubmitted = true;\n\n    if (this.signUpForm.invalid) {\n      return;\n    }\n\n    const { email, noSiren, password } = this.signUpForm.value;\n\n    this.authSerivce.register(email, password, noSiren).subscribe(\n      (response) => {\n        this.errorMessage = '';\n        this.successMessage = 'Registration successful';\n        setTimeout(() => {\n          this.router.navigate([`home`]);\n          //change to login page when created\n\n        }, 2000);\n      },\n      (error) => {\n        this.errorMessage = error.error.message;\n        console.error('Registration error:', error);\n      }\n    );\n\n  }\n\n}\n","<div class=\"main\">\n  <div class=\"container\">\n    <div class=\"title\">Inscription</div>\n    <p>Veuillez remplir les informations suivantes</p>\n    <div class=\"content\">\n      <div *ngIf=\"successMessage\" class=\"successMessage\">\n        {{ successMessage }}\n      </div>\n      <div *ngIf=\"errorMessage !==''\" class=\"errorMessage\">\n        {{ errorMessage }}\n      </div>\n      <form [formGroup]=\"signUpForm\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"user-details\">\n\n          <div class=\"input-box\">\n            <label for=\"email\">Email</label>\n            <input type=\"text\" id=\"email\" formControlName=\"email\" placeholder=\"Entrez votre adresse e-mail\" required>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['email'].errors?.['required']\">Email obligatoire</div>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['email'].errors?.['email']\">Email invalide</div>\n          </div>\n\n          <div class=\"input-box\">\n            <label for=\"noSiren\">N°SIREN</label>\n            <input type=\"text\" id=\"noSiren\" formControlName=\"noSiren\" placeholder=\"Entrez votre n° SIREN\" required>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['noSiren'].errors?.['required']\">N°SIREN obligatoire</div>\n          </div>\n\n          <div class=\"input-box\">\n            <label for=\"password\">Password</label>\n            <input type=\"password\" id=\"password\" formControlName=\"password\" placeholder=\"Entrez votre mot de passe\" required>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['password'].errors?.['required']\">Mot de passe obligatoire</div>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['password'].errors?.['minlength']\">6 caractères minimum</div>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['password'].errors?.['maxlength']\">40 caractères maximum</div>\n          </div>\n\n          <div class=\"input-box\">\n            <label for=\"confirmPassword\">Confirmez votre mot de passe</label>\n            <input type=\"password\" id=\"confirmPassword\" formControlName=\"confirmPassword\" placeholder=\"Confirmez votre mot de passe\" required>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['confirmPassword'].errors?.['required']\">Confirmation de mot de passe obligatoire</div>\n            <div class=\"error-form\" *ngIf=\"formSubmitted && signUpForm.controls['confirmPassword'].errors?.['matching']\">Les mots de passe ne sont pas identiques</div>\n          </div>\n\n        </div>\n\n        <div class=\"button\">\n          <button class =\"registerButton\" type=\"submit\" >S'inscrire</button>\n        </div>\n\n      </form>\n    </div>\n  </div>\n</div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}